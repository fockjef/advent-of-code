#!/usr/bin/perl -ap
$C{$_}++for split"",$F[0];$n=delete$C{J};@X=sort{$b-$a}values%C;$X[0]+=$n;%C=push@H,join"",@X,$F[0]=~y/JTAK/0HUT/r,"!"x$F[1]}{$\+=++$i*y/!/!/for sort@H